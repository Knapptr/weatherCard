(this.webpackJsonpweathercard=this.webpackJsonpweathercard||[]).push([[0],{13:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(2),o=a.n(r),c=a(3),l=a(4),s=a(6),d=a(5),u=a(7),h=["f","c","k"],m=function(e){return i.a.createElement("div",{id:"appHeader"},i.a.createElement("div",{id:"unitSelector"},h.map((function(t){return i.a.createElement("div",{className:"unit ".concat(t===e.currentUnit?"selected":null),key:t,id:"".concat(t,"Selector"),onClick:function(){e.func(t)}},t)}))))};function p(e){for(var t,a=0;a<f.length;a++)e>f[a][0]&&(t=f[a][1]);return t}var f=[[-999,"frigid"],[-17,"freezing"],[10,"frigid"],[32,"cold"],[40,"brisk"],[52,"cool"],[55,"mid"],[60,"mild"],[65,"lukewarm"],[70,"warm"],[75,"hot"],[90,"sweltering"],[100,"roasted"]];function w(e){return i.a.createElement("div",{id:"tempDisplay"},i.a.createElement("div",{id:"currentTemp"},i.a.createElement("div",{className:"bigTemp"},Math.round(e.weather.current),"\xb0"),i.a.createElement("div",{className:"smallTemp"},"Feels like ",Math.round(e.weather.feelsLike),"\xb0")))}function v(e){return i.a.createElement("div",{className:"location"},e.place)}function g(e){return i.a.createElement("div",{id:"subInfo"},i.a.createElement("div",{id:"hiLo"},i.a.createElement("div",{id:"hi"},"Hi: ",Math.round(e.weather.hi),"\xb0"),i.a.createElement("div",{id:"lo"},"Lo: ",Math.round(e.weather.lo),"\xb0")),i.a.createElement("div",{id:"windInfo"},i.a.createElement("div",{id:"windSpeed"},"Wind: ",e.weather.windSpeed," ",e.speedUnit),i.a.createElement("div",{id:"windDir"},e.weather.windDir?"From the ".concat((t=e.weather.windDir,["North","Northeast","East","Southeast","South","Southwest","West","Northwest"][Math.round(t/45)%8])):void 0)));var t}var E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={units:"f",placeName:"-",location:{lat:0,long:0},weather:{}},a.setColorCode=function(){return"c"===a.state.units?1.8*a.state.weather.feelsLike+32:"k"===a.state.units?1.8*a.state.weather.feelsLike-459.67:a.state.weather.feelsLike},a.unitSelector=function(e){a.setState({units:e},a.getWeather)},a.initState=function(){navigator.geolocation.getCurrentPosition((function(e){a.setState({message:"Thanks for granting location access!",location:{lat:e.coords.latitude,long:e.coords.longitude}},a.getWeather)}),(function(e){a.setState({message:"Accept location information access for accurate personal information",location:{lat:42.3250896,long:-72.6412013}},a.getWeather)}))},a.assignColor=function(){var e=p(a.state.colorCode);a.setState({tempClass:e})},a.getWeather=function(e){var t=a.searchLogic(e),n=a.weatherApiSwitch(t);fetch(n).then((function(e){return e.json()})).then((function(e){console.log(e),a.setState({location:{lat:e.coord.lat,long:e.coord.lon},placeName:e.name,weather:{current:e.main.temp,feelsLike:e.main.feels_like,hi:e.main.temp_max,lo:e.main.temp_min,windSpeed:e.wind.speed,windDir:e.wind.deg}})})).then((function(){var e=a.setColorCode();a.setState({colorCode:e},a.assignColor)})).catch((function(e){console.log(e)}))},a.handleChange=function(e){a.setState({input:e.target.value})},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"searchLogic",value:function(e){return e?Number.parseInt(e)?"zip":"name":"coord"}},{key:"weatherApiSwitch",value:function(e){var t,a="f"===this.state.units?"imperial":"c"===this.state.units?"metric":"kelvin";switch(e){case"zip":t="zip=".concat(this.state.input,",us");break;case"name":t="q=".concat(this.state.input);break;default:t="lat=".concat(this.state.location.lat,"&lon=").concat(this.state.location.long)}return"https~://api.openweathermap.org/data/2.5/weather?units=".concat(a,"&").concat(t,"&APPID=").concat("d8ca43a4a9423ed8bf08fa2a87f4727a")}},{key:"componentDidMount",value:function(){this.initState()}},{key:"render",value:function(){var e=this;return"-"===this.state.placeName?i.a.createElement("div",{id:"appDisplay"},i.a.createElement("h1",null,"LOADING",i.a.createElement("span",{className:"flashing"},"..."))):i.a.createElement("div",{id:"appDisplay",className:this.state.tempClass},i.a.createElement("div",{id:"topInfo"},i.a.createElement("div",{id:"leftInfo"},i.a.createElement(v,{place:this.state.placeName}),i.a.createElement(g,{weather:this.state.weather,speedUnit:"f"===this.state.units?"MPH":"KPH"})),i.a.createElement("div",{id:"rightInfo"},i.a.createElement(w,{weather:this.state.weather}))),i.a.createElement("div",{id:"bottomInfo"},i.a.createElement("div",null,i.a.createElement("input",{placeholder:"Enter city or Zip",onChange:this.handleChange,onKeyDown:function(t){13===t.keyCode&&e.getWeather(e.state.input)}}),i.a.createElement("button",{onClick:function(){e.getWeather(e.state.input)}},"Search")),i.a.createElement(m,{currentUnit:this.state.units,func:this.unitSelector})))}}]),t}(n.Component);o.a.render(i.a.createElement(E,null),document.getElementById("display"))},8:function(e,t,a){e.exports=a(13)}},[[8,1,2]]]);
//# sourceMappingURL=main.61fa8200.chunk.js.map